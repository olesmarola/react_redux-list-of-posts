(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(6),o=n.n(s),c=n(3),u=n(2),l=n.n(u),i=n(14),m=function(e){var t=e.user;return r.a.createElement("p",{className:"post__author"},r.a.createElement("span",null,t.name),r.a.createElement("br",null),r.a.createElement("span",null,t.email),r.a.createElement("br",null),r.a.createElement("span",null,t.address.city))},p=n(16),d=n(10),f=function(e){var t;return l.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(fetch(e));case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}})},h=function(e){return{type:"isLoading",isLoading:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"isLoading":return t.isLoading;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPosts":return t.posts;case"deletePost":return e.filter(function(e){return e.id!==t.postId});case"deleteComment":return e.map(function(e){return e.id===t.postId?Object(d.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});default:return e}},b=Object(c.b)(null,{deleteComment:function(e,t){return{type:"deleteComment",postId:e,commentId:t}}})(function(e){var t=e.comment,n=e.deleteComment,a=e.postId;return r.a.createElement("div",{className:"comments__item"},r.a.createElement("button",{type:"button",className:"post__delete",onClick:function(){return n(a,t.id)}},"Delete comment"),r.a.createElement("p",{className:"comments__text"},t.body),r.a.createElement("div",{className:"comments__author"},r.a.createElement("span",null,t.name),r.a.createElement("br",null),r.a.createElement("span",null,t.email)))}),_=function(e){var t=e.comments,n=e.postId;return t.length>0&&r.a.createElement("div",{className:"post__comments comments"},r.a.createElement("h2",{className:"comments__title"},"Comments:"),t.map(function(e){return r.a.createElement(b,{key:e.id,comment:e,postId:n})}))},v=Object(c.b)(null,{deletePost:function(e){return{type:"deletePost",postId:e}}})(function(e){var t=e.post,n=e.deletePost;return r.a.createElement("article",{className:"post__item"},r.a.createElement("button",{type:"button",className:"post__delete",onClick:function(){return n(t.id)}},"Delete post"),r.a.createElement("h2",{className:"post__title"},t.title),r.a.createElement("p",{className:"post__text"},t.body),r.a.createElement(m,{user:t.user}),r.a.createElement(_,{comments:t.comments,postId:t.id}))}),g=function(e){var t=e.posts;return r.a.createElement("section",{className:"post__list"},t.map(function(e){return r.a.createElement(v,{key:e.id,post:e})}))},w=(n(29),n(5)),N=n(15),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"searchQuery":return t.searchQuery;default:return e}},j=function(e){return e.posts},L=function(e){return e.searchQuery},C=function(e){return e.isLoading},P=Object(w.d)(Object(w.c)({posts:E,searchQuery:I,isLoading:y}),Object(w.a)(N.a)),Q=Object(c.b)(function(e){return{posts:j(e),searchQuery:L(e),isLoading:C(e)}},{setSearchQuery:function(e){return{type:"searchQuery",searchQuery:e}},loadPostsFromServer:function(){return function(e){var t,n,a,r,s,o,c;return l.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=function(e,t,n){return e.map(function(e){return Object(d.a)({},e,{comments:n.filter(function(t){return t.postId===e.id}),user:t.find(function(t){return t.id===e.userId})})})},e(h(!0)),u.next=4,l.a.awrap(Promise.all([f("https://jsonplaceholder.typicode.com/posts"),f("https://jsonplaceholder.typicode.com/users"),f("https://jsonplaceholder.typicode.com/comments")]));case 4:n=u.sent,a=Object(p.a)(n,3),r=a[0],s=a[1],o=a[2],c=t(r,s,o),e({type:"setPosts",posts:c}),e(h(!1));case 12:case"end":return u.stop()}})}}})(function(e){var t=e.posts,n=e.isLoading,a=e.searchQuery,s=e.setSearchQuery,o=e.loadPostsFromServer;return r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement("div",{className:"post"},r.a.createElement("h1",{className:"title"},"Dynamic list of posts"),r.a.createElement(i.DebounceInput,{className:"post__search",debounceTimeout:500,placeholder:"Type to search...",onChange:function(e){s(e.target.value.trim().toLowerCase())}}),r.a.createElement(g,{posts:t.filter(function(e){return(e.title+e.body).toLowerCase().includes(a)})})):r.a.createElement("div",{className:"post__start"},r.a.createElement("button",{disabled:n,className:"post__button",type:"button",onClick:function(){return l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(o());case 2:case"end":return e.stop()}})}},n?"Loading...":"Load Posts")))});o.a.render(r.a.createElement(c.a,{store:P},r.a.createElement(Q,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.194e12bc.chunk.js.map